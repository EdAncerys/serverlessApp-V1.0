<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="./css/mainOneTouch.css" />
    <!-- Navigation Partial script -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script defer src="./JS/oneTouchNav.js"></script>

    <!-- Spinner script -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <script defer type="module" src="../../JS/broadband.js"></script>
    <title>Order New Connection â€“ NDG Supernet</title>
  </head>
  <body>
    <navigation></navigation>
    <errorMessage></errorMessage>

    <div
      id="msg"
      class="alignHorizontally"
      style="
        background-color: #f0ad4e;
        margin: 2vw;
        position: absolute;
        width: 80vw;
        margin-left: 10vw;
      "
    >
      <msg class="alignHorizontally"></msg>
    </div>

    <div id="spinner">
      <spinner class="fa fa-spinner fa-spin"></spinner>
      <spinnerText>Please Wait While We Update Selection</spinnerText>
    </div>

    <div id="gridContainer">
      <div id="form">
        <div class="broadbandFromContainer" id="broadbandFromContainer">
          <div class="broadbandNav">
            <div class="navContainer">
              <div>
                <input
                  id="postcode"
                  name="postcode"
                  class="inputContainer"
                  type="text"
                />
              </div>
              <div>
                <button id="getAddress" class="button">Get Quote</button>
              </div>
            </div>
          </div>
        </div>

        <!-- <div>
          <img class="ethernet" src="./images/Ethernet_Connection.png" alt="" />
          <input class="rounded" type="text" />
          <button class="button">Get Quote</button>
        </div> -->
      </div>
      <div
        class="broadbandAvailabilityContainer"
        id="broadbandAvailabilityContainer"
      >
        <broadbandAddress class="alignHorizontally"></broadbandAddress>
        <broadbandDeals
          class="broadbandDeals alignHorizontally"
        ></broadbandDeals>
      </div>
      <broadbandOrder class="alignHorizontally"></broadbandOrder>
    </div>

    <script>
      const closeErrorMsg = () => {
        let errorMessage = document.querySelector('errorMessage');
        errorMessage.innerHTML = '';
      };
      const _errorMessage = (message) => {
        let errorMessage = document.querySelector('errorMessage');
        setTimeout(() => {
          errorMessage.innerHTML = '';
        }, 4000);
        let errorMsg = 'Warning!';

        return `<div
                  style="
                    position: absolute;
                    display: grid;
                    grid-template-columns: 1% 15% 75% 4%;
                    align-items: center;
                    width: 80vw;
                    height: 60px;
                    color: #f7f7f7;
                    margin: 2vw 0 0 10vw;
                    border-radius: 10px;
                    background-color: #d9534f;
                  "
                >
                  <div style="height: 100%; background-color: aquamarine"></div>
                  <div style="padding-left: 10%"><strong>${errorMsg}</strong></div>
                  <div>${message}</div>
                  <span onClick="closeErrorMsg()" 
                        style="cursor: pointer; padding-left: 95%"> &times; </span>
                </div>`;
      };

      document.querySelector('errorMessage').innerHTML = _errorMessage(
        'test error message'
      );
    </script>
  </body>
</html>
