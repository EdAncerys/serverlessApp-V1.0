<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- User Authentication script -->
    <script type="module" src="./js/authenticateUserNavBar.js"></script>

    <title>oneTouch Navigation</title>
  </head>
  <body>
    <section class="navigation">
      <div class="nav-container">
        <div class="brand">
          <a href="./index.html"
            ><img src="./images/color_logo_transparent.png" alt="oneTouch"
          /></a>
        </div>
        <nav>
          <div class="nav-mobile">
            <a id="navbar-toggle"><span></span></a>
          </div>
          <ul class="nav-list">
            <li>
              <a class="nav-list-main">Admin</a>
              <ul class="navbar-dropdown">
                <li>
                  <a href="./version-two.html">Account Overview</a>
                </li>
                <li>
                  <a href="./version-two.html">Reseller Customers</a>
                </li>
                <li>
                  <a href="./raise-ticket.html">Raise Ticket</a>
                </li>
              </ul>
            </li>

            <li>
              <a class="nav-list-main">Customers</a>
              <ul class="navbar-dropdown">
                <li>
                  <a href="./version-two.html">Address Book</a>
                </li>
                <li>
                  <a href="./manage-customer.html">Manage Customer</a>
                </li>
                <li>
                  <a href="./add-customer.html">Add Customer</a>
                </li>
              </ul>
            </li>

            <li>
              <a class="nav-list-main">Broadband</a>
              <ul class="navbar-dropdown">
                <li>
                  <a href="./live-connections.html">Broadband Accounts</a>
                </li>
                <li>
                  <a href="./order-new-connection.html">Add Broadband</a>
                </li>
              </ul>
            </li>

            <li>
              <a class="nav-list-main" href="./support-docs.html">Docs</a>
            </li>

            <li onclick="logout()">
              <a class="logOutBtnContainer nav-list-main">Logout</a>
            </li>
          </ul>
        </nav>
      </div>
    </section>

    <div style="position: absolute; bottom: 10px; right: 10px">
      <loginPage
        class="btnB01 bgGradientRP"
        onclick="location.href='./one-touch-login.html';"
        >loginPage</loginPage
      >
      <clearSessionsBtn class="btnB01 bgPrimary"
        >Clear Sessions</clearSessionsBtn
      >
    </div>
  </body>
</html>

<script>
  //Navigation css
  (function ($) {
    $(function () {
      //  open and close nav
      $('#navbar-toggle').click(function () {
        $('nav ul').slideToggle();
      });

      // Hamburger toggle
      $('#navbar-toggle').on('click', function () {
        this.classList.toggle('active');
      });

      // If a link has a dropdown, add sub menu toggle.
      $('nav ul li a:not(:only-child)').click(function (e) {
        $(this).siblings('.navbar-dropdown').slideToggle('slow');

        // Close dropdown when select another dropdown
        $('.navbar-dropdown').not($(this).siblings()).hide('slow');
        e.stopPropagation();
      });

      // Click outside the dropdown will remove the dropdown class
      $('html').click(function () {
        $('.navbar-dropdown').hide();
      });
    });
  })(jQuery);

  const logout = (e) => {
    sessionStorage.clear();
    location.reload();
  };

  document.querySelector('clearSessionsBtn').addEventListener('click', () => {
    // location.reload();
    sessionStorage.clear();
  });
</script>
